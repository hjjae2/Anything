---
layout: post
title: "대용량 테이블 ENUM"
author: "leehyunjae"
tags: [db]
---

> 대용량 테이블에 ENUM 이 적용되어 있는 것은 괜찮은건가 생각해보기

<br>

### 개요

대용량 테이블 A 가 있다. 이 테이블에는 약 n억 건의 데이터가 저장되어 있다. 또 A 의 'col1' 컬럼은 enum('TEXT1', 'TEXT2') 으로 정의되어 있다.

<br>

### 요구사항

요구사항이 변경되어 TEXT1, TEXT2 외 에도 TEXT3 이라는 값이 저장되어야 한다.

<br>

### 문제

이 테이블은 데이터가 많고 계속해서 실시간으로 쌓이고 있는 테이블이기에 쉽게 스키마에 대해 변경할 수 없다. 

실제 서비스가 운영되는 상태라면 자칫 장애를 유발할 수도 있다.

<br>

### 생각

> 개인적으로는 스키마, 제약 조건이 엄격한 것을 좋아한다.

현재 설계하고 있는 테이블이 대용량 테이블을 위한 것이라면 스키마, 제약 조건에 대해 다시금 생각해보아야 할 것 같다. 이런 경우에는 제약 조건이 엄격하다면 추후에 스키마에 대한 수정이 필요할 수 있다. 스키마에 대한 수정은 결코 쉬운 작업이 아니기에 신중히 생각해야 할 것 같다.